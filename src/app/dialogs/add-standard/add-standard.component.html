<h1 *ngIf="add"  mat-dialog-title>Иловакунии фанни нав</h1>
<h1 *ngIf="!add"  mat-dialog-title>Тағйирдиҳии фанни стандарт</h1>
<div mat-dialog-content>
    <form class="example-form">
      <mat-form-field class="example-full-width">
        <input matInput name="special" [(ngModel)]="selectedSubject"
               placeholder="Номи фанн" [formControl]="myControl"
               [matAutocomplete]="auto" value="" required>
        <mat-autocomplete  #auto="matAutocomplete" [displayWith]="displayFn">
          <mat-option *ngFor="let option of filteredOptions | async" [value]="option">
            {{ option.name }}
          </mat-option>
        </mat-autocomplete>
      </mat-form-field>

      <table class="text-center">
        <tr>
          <td colspan="2">
            <mat-form-field class="example-full-width">
              <mat-select [(value)]="data.idType" placeholder="Бахш">
                <mat-option *ngFor="let type of subjectTypes" value="{{type.id}}">
                  Бахши  {{type.name | lowercase}}
                </mat-option>
              </mat-select>
            </mat-form-field>
          </td>
          <td>
            <mat-checkbox [(ngModel)]="checked" name="selective">Фанни интихобӣ</mat-checkbox>
          </td>
        </tr>
        <tr>
          <td></td>
          <td class="border-bottom" colspan="2">Шаклҳои назорат аз рӯи семестрҳо</td>
        </tr>
        <tr>
          <td>
            <mat-form-field>
              <input type="number" [max]="4" [min]="2" name="credits" matInput
                     [(ngModel)]="data.credits" #_credits (input)="creditInput()" placeholder="Ҳаҷми кредитҳо">
            </mat-form-field>
            {{_credits.value}}
          </td>
          <td>
            <mat-form-field>
              <input type="text" matInput name="exam" [(ngModel)]="data.typeOfMonitoring.exam" placeholder="Имтиҳон" value="">
            </mat-form-field>
          </td>
          <td>
            <mat-form-field>
              <input type="text" matInput name="goUpIWS" [(ngModel)]="data.typeOfMonitoring.goUpIWS" placeholder="Ҳимояи КМД" value="">
            </mat-form-field>
          </td>
        </tr>
        <tr class="border-bottom">
          <td colspan="3">Ба омӯзгор</td>
        </tr>
        <tr>
          <td></td>
          <td class="border-bottom" colspan="2">Аз ҷумла</td>
        </tr>
        <tr>
          <td>
            <mat-form-field>
              <input type="number" matInput name="total" [(ngModel)]="data.toTeacher.total" placeholder="Ҳамагӣ" value="">
            </mat-form-field>
          </td>
          <td>
            <mat-form-field>
              <input type="number" matInput name="audit" [(ngModel)]="data.toTeacher.including.audit" placeholder="Аудиторӣ" value="">
            </mat-form-field>
          </td>
          <td>
            <mat-form-field>
              <input type="number" matInput name="kmro" [(ngModel)]="data.toTeacher.including.kmro" placeholder="КМРО" value="">
            </mat-form-field>
          </td>
        </tr>
        <tr>
          <td></td>
          <td class="border-bottom" colspan="2">Тақсимоти кредитҳо ба курсҳо ва семестрҳо</td>
        </tr>
        <tr>
          <td>
            <mat-form-field>
              <input type="number" matInput name="iws" [(ngModel)]="data.IWS" placeholder="КМД" value="">
            </mat-form-field>
          </td>
          <td>
            <mat-form-field>
              <input type="text" matInput name="terms" [(ngModel)]="terms" placeholder="Семестрҳо" value="">
            </mat-form-field>
          </td>
          <td>
            <mat-form-field>
              <input type="text" matInput name="termCredits" [(ngModel)]="credits" placeholder="Кредитҳо" value="">
            </mat-form-field>
          </td>
        </tr>
      </table>
    </form>
</div>

<div mat-dialog-actions>
  <button *ngIf="add" cdkFocusInitial (click)="confirmAddSubject();" mat-raised-button class="bg-dark text-colored half-width">
    <mat-icon>add_circle_outline</mat-icon> Илова намудан
  </button>
  <button *ngIf="!add" cdkFocusInitial (click)="confirmSavingSubject();" mat-raised-button class="bg-dark text-colored half-width">
    <mat-icon>save</mat-icon> Сабт кардан
  </button>
  <button cdkFocusInitial mat-raised-button (click)="onNoClick()" class="bg-dark text-colored half-width">Қатъ кардан</button>
</div>
